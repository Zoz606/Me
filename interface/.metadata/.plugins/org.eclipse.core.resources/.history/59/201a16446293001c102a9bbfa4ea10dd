#include "DIO.h"
#include "typedef_keywords.h"
#include "LCD.h"
#include <util/delay.h>

//initialize
void LCD_vInit(UINT8 enablePort, UINT8 dataPort) {

	_delay_ms(200);
	DIO_vSetPortDir(dataPort, 1);
	DIO_vSetPinDir(enablePort, EN, 1);
	DIO_vSetPinDir(enablePort, RS, 1);
	DIO_vSetPinDir(enablePort, RW, 0);
	LCD_vSendCmd(enablePort)

}


//Enable
void enable(UINT8 port) {
	DIO_vWritePin(port, EN, 1);
	_delay_ms(2);
	DIO_vWritePin(port, EN, 0);
	_delay_ms(2);
}

//Send a character to the data DDRAM
void LCD_vSendChar(UINT8 enablePort, UINT8 dataPort ,UINT8 data) {
	DIO_vWritePort(dataPort, data);
	DIO_vWritePin(enablePort, RS, 1);
	enable(enablePort);
}

//Send a command to the command register
void LCD_vSendCmd (UINT8 enablePort, UINT8 cmdPort, UINT8 cmd) {
	DIO_vWritePort(cmdPort, cmd);
	DIO_vWritePin(RsPort, RS, 0);
	enable(enablePort);
	_delay_ms(10);
}

